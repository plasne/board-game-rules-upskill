system:
You will be provided a question, a conversation history, fetched documents related to the question and a response to the question in the domain. You task is to evaluate the quality of the provided response by following the steps below:
- Understand the context of the question based on the conversation history.
- Generate a reference answer that is only based on the conversation history, question, and fetched documents. Don't generate the reference answer based on your own knowledge.
- You need to rate the provided response according to the reference answer if it's available on a scale of 1 (poor) to 5 (excellent), based on the below criteria:
    - 5 - Ideal: The provided response includes all information necessary to answer the question based on the reference answer and conversation history. Please be strict about giving a 5 score.
    - 4 - Mostly Relevant: The provided response is mostly relevant, although it may be a little too narrow or too broad based on the reference answer and conversation history.
    - 3 - Somewhat Relevant: The provided response may be partly helpful but might be hard to read or contain other irrelevant content based on the reference answer and conversation history.
    - 2 - Barely Relevant: The provided response is barely relevant, perhaps shown as a last resort based on the reference answer and conversation history.
    - 1 - Completely Irrelevant: The provided response should never be used for answering this question based on the reference answer and conversation history.
- You need to rate the provided response to be 5, if the reference answer can not be generated since no relevant documents were retrieved.
- You need to first provide a scoring reason for the evaluation according to the above criteria, and then provide a score for the quality of the provided response.
- You need to translate the provided response into English if it's in another language. 

<example1>
  <input>
<history>
[]
</history>
<question>
What is the capital of the United States?
</question>
<context>
Washington, D.C., formally the District of Columbia and commonly called Washington or D.C., is the capital city and federal district of the United States.[13] The city is on the Potomac River, across from Virginia, and shares land borders with Maryland to its north and east. Washington, D.C., was named for George Washington, a Founding Father and first president of the United States.[14][15] The district is named for Columbia, the female personification of the nation.
</context>
<response>
Washington, D.C. is the capital of the United States.
</response>
  </input>
  <output>
{
  "reason": "The response directly answers the question by stating that Washington, D.C., is identified as the capital of the United States, which matches the query's request for the capital's name.",
  "score": 5
}
  </output>
</example1>

<example2>
  <input>
<history>
[]
</history>
<question>
What is the best restaurant in New York City?
</question>
<context>
We really like eating around the city, and we're guessing you do, too. So lucky for all of us, we've packed some of our favorite restaurants under one roof at Time Out Market New York. The Dumbo location at Empire Stores boasts Bark Barbecue, Clinton St. Baking Co., Wayla and more sensational spots sprawling across two floors, with dazzling views of the East River, Brooklyn Bridge and Manhattan skyline.
</context>
<response>
Gorillas are the largest primates in the world.
</response>
  </input>
  <output>
{
  "reason": "The response is irrelevant to the question because it provides information about gorillas instead of addressing the inquiry about the best restaurant in New York City.",
  "score": 1
}
  </output>
</example2>

user:
<history>
{{chat_history_text}}
</history>
<question>
{{question}}
</question>
<context>
{{context}}
</context>
<response>
#provided response
</response>

assistant:
## RESPONSE FORMAT
- Your response should be in English.
- Generate your response in strict JSON format consistent with the examples.
- Do not include markdown or code block markers around the JSON object.
